<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
    <link rel="stylesheet" type="text/css" href="../stylesheets/tabs.css">
    <title>Blockchain</title>

    <style>
        .map { background: rgba(21,11,21,0.6); max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
        .mining{ animation-name: pulse; animation-duration: 0.5s; animation-timing-function:ease-out; animation-iteration-count: infinite; animation-direction: reverse;}

        div.n{position:relative; width: 50px; height: 50px;}
        div.n1{width: 100%; height: 100%; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; background-color: white; position:relative; top:1%; left:1%; opacity:0.6;}
        div.n2 {width: 100%; height: 100%; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; background-color: white; position: relative; top:0%; left:0%; z-index:-1; }


        @keyframes pulse{
            from {background-color:white; left:-10%; top:-10%; width:120%; height:120%; opacity:0}
            }

    </style>


    <style>
        /* Clients position and colors on map*/
        /* IDs */
        #client1{top:70px; left:50%; color: #00B7FF}
        #client2{top:20px; left:20%; color: #ffa100}
        #client3{top:40px; left:70%; color: #999999}
        #client4{top:0px; left:40%; color: #ffa100}
        #client5{top:0px; left:20%; color: #00B7FF}

        #m1 .m_progress{width: 100%;}

        #b1{
            background: #00B7FF;
        }
    </style>


</head>
<body>
    <div class="logo"></div>

    <div class="map">

        <!-- Pulse animation test div-->
        <div id= "client1" class="n"><div class="n1"><div class="n2 mining"></div></div></div>
        <div id= "client2" class="n"><div class="n1"><div class="n2 mining"></div></div></div>
        <div id= "client3" class="n"><div class="n1"><div class="n2 mining"></div></div></div>
        <div id= "client4" class="n"><div class="n1"><div class="n2"></div></div></div>
        <div id= "client5" class="n"><div class="n1"><div class="n2"></div></div></div>

    </div>

    <div class="message tabbox">
        <input class="tabs" id="tab1" type="radio" name="tabs" checked>
        <label class="tab" for="tab1">Messages</label>

        <input class="tabs" id="tab2" type="radio" name="tabs">
        <label class="tab" for="tab2">Blocks</label>

        <input class="tabs" id="tab3" type="radio" name="tabs">
        <label class="tab" for="tab3">Clients</label>

        <input class="tabs" id="tab4" type="radio" name="tabs">
        <label class="tab" for="tab4">Mining</label>

        <section id="content1">
            <div class = "tab_contents">
                <div class="tab_header">
                    <div class="header_box">
                    <input class="m_input" id="sampleText" type="text" name="fname" placeholder="Write Message Here.." value="">
                    <button class="m_send" id="btn_Update" onclick="updateMessage()">Send</button>
                    </div>
                </div>
                <div id="m1" class="item_portion">
                    <div class = "m_leftsection">
                        <div class = "m_leftsectionupper">
                            <div class = "m_user">John</div>
                            <div class = "m_timesection">
                                <div class = "m_timetitle">Time: </div>
                                <div class = "m_time">12:58</div>
                            </div>
                        </div>
                        <div class="m_progresssection">
                            <div class="m_progressbar">
                                <div class="m_progress"></div>
                            </div>
                        </div>
                    </div>
                    <div class = "m_content">
                        Hello There!!
                    </div>
                    <div class = "m_cblock"></div>
                </div>
                <div id="m2" class="item_portion">
                    <div class = "m_leftsection">
                        <div class = "m_leftsectionupper">
                            <div class = "m_user">John</div>
                            <div class = "m_timesection">
                                <div class = "m_timetitle">Time: </div>
                                <div class = "m_time">12:58</div>
                            </div>
                        </div>
                        <div class="m_progresssection">
                            <div class="m_progressbar">
                                <div class="m_progress"></div>
                            </div>
                        </div>
                    </div>
                    <div class = "m_content">
                        Hello There!!
                    </div>
                    <div class = "m_cblock"></div>
                </div>
                <div id="m3" class="item_portion">
                    <div class = "m_leftsection">
                        <div class = "m_leftsectionupper">
                            <div class = "m_user">John</div>
                            <div class = "m_timesection">
                                <div class = "m_timetitle">Time: </div>
                                <div class = "m_time">12:58</div>
                            </div>
                        </div>
                        <div class="m_progresssection">
                            <div class="m_progressbar">
                                <div class="m_progress"></div>
                            </div>
                        </div>
                    </div>
                    <div class = "m_content">
                        Hello There!!
                    </div>
                    <div class = "m_cblock"></div>
                </div>
                <div id="m4" class="item_portion">
                    <div class = "m_leftsection">
                        <div class = "m_leftsectionupper">
                            <div class = "m_user">John</div>
                            <div class = "m_timesection">
                                <div class = "m_timetitle">Time: </div>
                                <div class = "m_time">12:58</div>
                            </div>
                        </div>
                        <div class="m_progresssection">
                            <div class="m_progressbar">
                                <div class="m_progress"></div>
                            </div>
                        </div>
                    </div>
                    <div class = "m_content">
                        Hello There!!
                    </div>
                    <div class = "m_cblock"></div>
                </div>

            </div>
            <!--
            <h1 id="msg">Successful Prototype</h1>
            <h1 id="msg_upper">UPPERCASE</h1>
            <input id="sampleText" type="text" name="fname" placeholder="Enter a message.." value="">
            <!--<button id="btn_Update" onclick="updateMessage()">Try it</button>-->
            <!--
            <input type="button" id="btn_Update" value="Try It" onclick="updateMessage();" />
            -->
        </section>

        <section id="content2">
            <div class = "tab_contents">
                <div class="tab_header">
                    <div class="header_box">
                        <div class="single_chunk" id="b_difficulty">Difficulty: 45</div>
                        <div class="single_chunk" id="b_chainlength">Chain Length: 45</div>

                        </div>
                </div>
                <div id="b1" class="item_portion">
                    <div class="b_leftsection">
                        <div class="single_chunk b_number">122</div>
                        <div class="single_chunk b_ts">12:59</div>
                        <div class="single_chunk b_ph">af45ad</div>
                    </div>
                    <div class="b_midsection">
                        <div class="single_chunk b_nonce">4562</div>
                        <div class="single_chunk b_fb">John</div>
                        <div class="single_chunk b_col">#00B7FF</div>
                    </div>
                    <div class="b_rightsection">
                        <div class="b_messagesbox">
                            <div class="b_message">
                                <div class="b_messageuser">John</div>
                                <div class="b_messagecontent">Hello There!!</div>
                                <div class="b_messagetime">12:58</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="content3">
            <div class = "tab_contents">
                <div class="tab_header">
                    <div class="header_box">
                        <button class="c_add" id="c_btn_add" onclick="addBot()">+</button>
                    </div>
                </div>
                <div id="c1" class="item_portion">
                        <div class="c_leftsection">
                            <div class="c_block"></div>
                        </div>
                        <div class="c_midsection">Me</div>
                        <div class="c_rightsection">
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>

                    </div>
                <div id="c2" class="item_portion">
                        <div class="c_leftsection">
                            <div class="c_block"></div>
                        </div>
                        <div class="c_midsection">Bot1</div>
                        <div class="c_rightsection">
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider round"></span>
                            </label>
                            <button class="c_remove" id="c_btn_remove" onclick="removeBot()">-</button>
                        </div>

                    </div>
            </div>
        </section>

        <section id="content4">
            <div class = "tab_contents">
                <div class="tab_header">
                    <div class="header_box">
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider round"></span>
                        </label>

                    </div>
                </div>

                    <div class="miner_statlayer1">
                        <div class="miner_statlayer_leftsection">Current Block</div>
                        <div class="miner_statlayer_midsection">Difficulty</div>
                    </div>
                    <div class="miner_statlayer2">
                        <div class="miner_statlayer_leftsection">Nonce</div>
                        <div class="miner_statlayer_midsection">Package</div>

                    </div>
                    <div class="miner_statlayer2">
                        <div class="miner_statlayer_leftsection">Hit</div>
                        <div class="miner_statlayer_midsection">Difficulty</div>

                    </div>

                <div id="a1" class="item_portion miner_attempt">
                    <div class="a_col_block">a</div>
                    <div class="a_col_hit">a</div>
                    <div class="a_col_nonce">a</div>
                    <div class="a_col_package">a</div>
                    <div class="a_col_message">a</div>
                </div>
                <div id="a2" class="item_portion miner_attempt">
                    <div class="a_col_block">a</div>
                    <div class="a_col_hit">a</div>
                    <div class="a_col_nonce">a</div>
                    <div class="a_col_package">a</div>
                    <div class="a_col_message">a</div>
                </div>
                <div id="a3" class="item_portion miner_attempt">
                    <div class="a_col_block">a</div>
                    <div class="a_col_hit">a</div>
                    <div class="a_col_nonce">a</div>
                    <div class="a_col_package">a</div>
                    <div class="a_col_message">a</div>
                </div>
            </div>
        </section>

    </div>
    <p id="load">Firebase SDK Loading&hellip;</p>

    <div class="messageSnackbar">Text updated across all devices viewing this page</div>



    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyBERESHwl8m2_KLNX3MujVltBbhdQpoOqI",
            authDomain: "blockchain-visualisation-app.firebaseapp.com",
            databaseURL: "https://blockchain-visualisation-app.firebaseio.com",
            projectId: "blockchain-visualisation-app",
            storageBucket: "blockchain-visualisation-app.appspot.com",
            messagingSenderId: "198246009981"
        };
        firebase.initializeApp(config);
    </script>

    <script>
        //update the message
        function updateMessage() {
            var text = document.getElementById('sampleText').value;
            mRef.set(text);
            document.getElementById('sampleText').value = "";
            var snackbar = document.getElementById("messageSnackbar")
            snackbar.className = "show";
            setTimeout(function(){ snackbar.className = snackbar.className.replace("show", ""); }, 3000);

        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // // 🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥
            // // The Firebase SDK is initialized and available here!
            //
            // firebase.auth().onAuthStateChanged(user => { });
            // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
            // firebase.messaging().requestPermission().then(() => { });
            // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
            //
            // // 🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥

            try {
                let app = firebase.app();
                let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
                document.getElementById('load').innerHTML = 'Firebase SDK loaded with ${features.join(', ')}';
            } catch (e) {
                console.error(e);
                document.getElementById('load').innerHTML = 'FirebaseSDK Not Loaded';
            }
        });
    </script>

</body>
</html>